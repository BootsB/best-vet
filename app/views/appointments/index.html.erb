<div class="container">
  <h1 class="text-center">Appointments</h1>
  <div class="row">
    <% @appointments.each do |appointment| %>
      <div class="col-md-4">
        <div class="card mb-3">
          <div class="card-body">
            <h5 class="card-title"><%= appointment.appointment_date %></h5>
            <p class="card-text"><strong>Time:</strong> <%= appointment.appointment_time %></p>
            <p class="card-text"><strong>Status:</strong> <%= appointment.status %></p>
            <% if current_user.vet? %>
              <p class="card-text"><strong>Patient:</strong> <%= appointment.pet_profile.pet.name %></p>
              <p class="card-text"><strong>Owner:</strong> <%= appointment.pet_profile.user.email %></p>
              <p class="card-text"><strong>Description:</strong> <%= appointment.description_of_problem %></p>
              <% if appointment.pending? %>
                <div class="text-center">
                  <%= link_to accept_appointment_path(appointment), method: :put, class: "btn btn-success btn-sm mr-2", title: "Accept" do %>
                    <i class="fas fa-check"></i> Accept
                  <% end %>
                  <%= link_to reject_appointment_path(appointment), method: :put, class: "btn btn-danger btn-sm", title: "Reject" do %>
                    <i class="fas fa-times"></i> Reject
                  <% end %>
                </div>
              <% end %>
            <% else %>
              <p class="card-text"><strong>Vet:</strong> <%= appointment.vet.email %></p>
              <p class="card-text"><strong>Description:</strong> <%= appointment.description_of_problem %></p>
            <% end %>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>
